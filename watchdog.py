import os
import csv
import re
import envoy
import requests
from jinja2 import Template
from datetime import datetime
from hurry.filesize import size
from BeautifulSoup import BeautifulSoup
from dateutil.parser import parse as dateparse
import logging

logger = logging.getLogger("root")
logging.basicConfig(
    format = "\033[1;36m%(levelname)s: %(filename)s (def %(funcName)s %(lineno)s): \033[1;37m %(message)s",
    level=logging.DEBUG
)

class Watchdog(object):
    """
    Tricks for downloading and archiving Checkbook LA data.
    """

    test_file_list = [{'url': u'https://data.lacity.org/A-Well-Run-City/2014-Registered-Foreclosure-Properties/fdwe-pgcu', 'id': u'fdwe-pgcu', 'name': u'2014 Registered Foreclosure Properties', 'description': 'The 2014 Foreclosure Properties Registered at HCIDLA, last updated 8-22-2014'}, {'url': u'https://data.lacity.org/dataset/311-Call-Center-Tracking-Data/ukiu-8trj', 'id': u'ukiu-8trj', 'name': u'311 Call Center Tracking Data', 'description': 'Basic 311 call tracking information including date and time of call, type of information requested, how the request was handled, and which departments were notified'}, {'url': u'https://data.lacity.org/A-Livable-and-Sustainable-City/Active-Conservation-in-the-City-of-Los-Angeles/txn4-36ky', 'id': u'txn4-36ky', 'name': u'Active Conservation in the City of Los Angeles', 'description': 'Active Water Conservation by Acre Feet in the City of Los Angeles. An Acre Foot is a unit of volume equal to one foot water in depth spread across one Acre (325,853.38 gallons).'}, {'url': u'https://data.lacity.org/A-Well-Run-City/Addresses-in-the-City-of-Los-Angeles/4ca8-mxuh', 'id': u'4ca8-mxuh', 'name': u'Addresses in the City of Los Angeles', 'description': 'Official addresses assigned in the City of Los Angeles created and maintained by the Bureau of Engineering.'}, {'url': u'https://data.lacity.org/A-Livable-and-Sustainable-City/Aging-Performance-Metrics/9js5-j32d', 'id': u'9js5-j32d', 'name': u'Aging Performance Metrics', 'description': 'This dataset contains metrics that measure the operational performance of the Department of Aging. These metrics are used on a regular basis by the department and the Mayor to evaluate progress and inform decision making.  Performance management forms the foundation of a data-driven culture of innovation and excellence in the City of Los Angeles.'}, {'url': u'https://data.lacity.org/A-Livable-and-Sustainable-City/Aging-Events-Calendar/m7du-3p6a', 'id': u'm7du-3p6a', 'name': u'Aging Events Calendar', 'description': 'Upcoming Events for Older Americans'}, {'url': u'https://data.lacity.org/A-Livable-and-Sustainable-City/Amount-Of-CO2-Generated-by-LADWP/2qdj-cyiz', 'id': u'2qdj-cyiz', 'name': u'Amount Of CO2 Generated by LADWP', 'description': 'LADWP CO2 Generation in Metric Tons'}, {'url': u'https://data.lacity.org/A-Livable-and-Sustainable-City/Animal-Services-Performance-Metrics/vhck-efbw', 'id': u'vhck-efbw', 'name': u'Animal Services Performance Metrics', 'description': 'This dataset contains metrics that measure the operational performance of the Department of Animal Services. These metrics are used on a regular basis by the department and the Mayor to evaluate progress and inform decision making. Performance management forms the foundation of a data-driven culture of innovation and excellence in the City of Los Angeles.'}, {'url': u'https://data.lacity.org/A-Well-Run-City/Animal-Services-Intake-Data/8cmr-fbcu', 'id': u'8cmr-fbcu', 'name': u'Animal Services Intake Data', 'description': 'Dept of Animal Services animal intake data for 2011, 2012 and 2013'}, {'url': u'https://data.lacity.org/A-Well-Run-City/Annual-Outages-Excluding-Consumer-Caused-Outages/m54w-v4rc', 'id': u'm54w-v4rc', 'name': u'Annual Outages Excluding Consumer Caused Outages', 'description': 'Annual Outages.  Each listed area is the LADWP facility that responded to the outages.'}, {'url': u'https://data.lacity.org/dataset/Applicant-Information-From-7-1-2013-To-6-30-2014/idqz-6ngx', 'id': u'idqz-6ngx', 'name': u'Applicant Information From 7 1 2013 To 6 30 2014', 'description': 'Job applicant information by gender and ethnicity'}, {'url': u'https://data.lacity.org/dataset/Applicant-Information-From-7-1-2014-To-9-30-2014/mkf9-fagf', 'id': u'mkf9-fagf', 'name': u'Applicant Information From 7 1 2014 To 9 30 2014', 'description': 'Job applicant information by gender and ethnicity'}, {'url': u'https://controllerdata.lacity.org/Liabilities-and-Assets/Assessed-and-Estimated-Actual-Value-or-Property/ivk4-ub4s', 'id': u'ivk4-ub4s', 'name': u'Assessed and Estimated Actual Value or Property', 'description': 'CAFR Page 343.\n\nLast Ten Fiscal Years'}, {'url': u'https://data.lacity.org/A-Livable-and-Sustainable-City/Average-monthly-residential-energy-usage-By-zip-co/rijp-9dwj', 'id': u'rijp-9dwj', 'name': u'Average monthly residential energy usage By zip code', 'description': 'Residential energy use (averaged monthly)  for each fiscal year since 2003 in kilowatt hours (kWh).'}, {'url': u'https://data.lacity.org/A-Well-Run-City/Avg-Monthly-Service-Pension/skve-7mzv', 'id': u'skve-7mzv', 'name': u'Avg Monthly Service Pension', 'description': 'Avg Monthly Service Pension'}, {'url': u'https://data.lacity.org/dataset/BAVN-Open-Bid-Opportunities/qtax-byj7', 'id': u'qtax-byj7', 'name': u'BAVN Open Bid Opportunities', 'description': 'A listing of open bid opportunities provided by the City of Los Angeles and available on the Los Angeles Business Assistance Virtual Network (BAVN) athttp://www.labavn.org'}, {'url': u'https://data.lacity.org/dataset/BOS-Bulky-Item-Pickup-Completed-By-Next-Collection/nxgr-uy85', 'id': u'nxgr-uy85', 'name': u'BOS Bulky Item Pickup Completed By Next Collection Day', 'description': ''}, {'url': u'https://data.lacity.org/dataset/BSL-Cumulative-Number-Of-Streetlights-Converted-To/pwhu-m93q', 'id': u'pwhu-m93q', 'name': u'BSL Cumulative Number Of Streetlights Converted To LED', 'description': ''}, {'url': u'https://data.lacity.org/dataset/BSS-Pavement-Condition-Index-PCI/3n9z-qdhi', 'id': u'3n9z-qdhi', 'name': u'BSS Pavement Condition Index PCI', 'description': ''}, {'url': u'https://data.lacity.org/dataset/BSS-Pavement-Preservation-YTD-2014/h63n-bpd9', 'id': u'h63n-bpd9', 'name': u'BSS Pavement Preservation YTD 2014', 'description': 'Progress towards achieving 240 centerline miles in 2014'}, {'url': u'https://data.lacity.org/dataset/BSS-Pavement-Preservation-Annual-Data/qer2-sxr5', 'id': u'qer2-sxr5', 'name': u'BSS Pavement Preservation Annual Data', 'description': 'Annual Data FY 10 to FY 13 for street resurfacing, resealing, small asphalt repairs (potholes), slurry seal'}, {'url': u'https://data.lacity.org/A-Safe-City/Building-and-Safety-Certificate-of-Occupancy/3f9m-afei', 'id': u'3f9m-afei', 'name': u'Building and Safety Certificate of Occupancy', 'description': 'The Department of Building and Safety is required by the Los Angeles Municipal Code to issue a Certificate of Occupancy for every building or structure in the City of Los Angeles.  A Certificate of Occupancy is a document issued by the Department of Building and Safety certifying a building&#x27;s compliance with applicable building codes and other laws, and indicating it to be in a condition suitable for occupancy.'}, {'url': u'https://data.lacity.org/A-Safe-City/Building-and-Safety-Code-Enforcement-Case/2uz8-3tj3', 'id': u'2uz8-3tj3', 'name': u'Building and Safety Code Enforcement Case', 'description': 'The Department of Building and Safety is tasked with the enforcement of the City&#x27;s building, electrical, mechanical and zoning regulations, which are elements of the Los Angeles Municipal Code. A Code Enforcement Case may originate from a customer service request to investigate a possible Code violation, from a planned and authorized inspection of a neighborhood for the purpose of reducing blight, or from a proactive inspection of a site due to an observed hazardous condition.  A case is closed (indicated by a &quot;C&quot; status) when the site satisfies the requirements for Code compliance, or when no Code violation is found.  A case remains open (indicated by an &quot;O&quot; status) until the site satisfies the requirements for Code compliance.'}, {'url': u'https://data.lacity.org/A-Safe-City/Building-and-Safety-Code-Enforcement-Case-Closed-/q3qu-98vb', 'id': u'q3qu-98vb', 'name': u'Building and Safety Code Enforcement Case Closed ', 'description': 'The Department of Building and Safety is tasked with the enforcement of the City&#x27;s building, electrical, mechanical and zoning regulations, which are elements of the Los Angeles Municipal Code. A Code Enforcement Case may originate from a customer service request to investigate a possible Code violation, from a planned and authorized inspection of a neighborhood for the purpose of reducing blight, or from a proactive inspection of a site due to an observed hazardous condition.  A case is closed (indicated by a &quot;C&quot; status) when the site satisfies the requirements for Code compliance, or when no Code violation is found.  A case remains open (indicated by an &quot;O&quot; status) until the site satisfies the requirements for Code compliance.'}, {'url': u'https://data.lacity.org/A-Prosperous-City/Building-and-Safety-Customer-Service-Request/bsvt-chkv', 'id': u'bsvt-chkv', 'name': u'Building and Safety Customer Service Request', 'description': 'A Customer Service Request is a request received by the Department of Building and Safety from the City&#x27;s constituents to investigate a site/property for a possible violation of the City&#x27;s building, electrical, mechanical and zoning regulations, which are elements of the Los Angeles Municipal Code. Any investigative action taken by a Building and Safety inspector constitutes the opening of a case. Where no Code violation is found, the case is immediately closed.  If a Code violation is found, the case remains open until the site/property satisfies the requirements for Code compliance.'}, {'url': u'https://data.lacity.org/A-Prosperous-City/Building-and-Safety-Customer-Service-Request-Close/8qjh-sbs9', 'id': u'8qjh-sbs9', 'name': u'Building and Safety Customer Service Request Closed ', 'description': 'A Customer Service Request is a request received by the Department of Building and Safety from the City&#x27;s constituents to investigate a site/property for a possible violation of the City&#x27;s building, electrical, mechanical and zoning regulations, which are elements of the Los Angeles Municipal Code. Any investigative action taken by a Building and Safety inspector constitutes the opening of a case. Where no Code violation is found, the case is immediately closed.  If a Code violation is found, the case remains open until the site/property satisfies the requirements for Code compliance.'}, {'url': u'https://data.lacity.org/A-Safe-City/Building-and-Safety-Inspections/9w5z-rg2h', 'id': u'9w5z-rg2h', 'name': u'Building and Safety Inspections', 'description': 'All permitted construction work are subject to inspection by authorized Building and Safety inspectors. The permit applicant notifies Building and Safety when the work is ready for inspection. Common items inspected include foundation excavations, concrete work, wood framing, ventilation equipment, plumbing, electrical, and so forth. Upon completion, there will be a final inspection and approval of the completed project.'}, {'url': u'https://data.lacity.org/A-Prosperous-City/Building-and-Safety-Permit-Information/yv23-pmwf', 'id': u'yv23-pmwf', 'name': u'Building and Safety Permit Information', 'description': 'The Department of Building and Safety issues permits for the construction, remodeling, and repair of buildings and structures in the City of Los Angeles.  Permits are categorized into building permits, electrical permits, and mechanical permits (which include plumbing, HVAC systems, fire sprinklers, elevators, and pressure vessels).  Depending on the complexity of a project, a permit may be issued the same day with Express Permit or e-Permit (&quot;No Plan Check&quot; category), or a permit may require that the plans be reviewed (&quot;Plan Check&quot; category) by a Building and Safety Plan Check personnel.'}, {'url': u'https://data.lacity.org/A-Prosperous-City/Building-and-Safety-Temporary-Special-Event-TSE-Pe/8spw-3fhx', 'id': u'8spw-3fhx', 'name': u'Building and Safety Temporary Special Event TSE Permits', 'description': 'Temporary Special Events being held within the City of Los Angeles are required to be inspected and approved by the Department of Building and Safety. A Temporary Special Event permit application is filed with the Department of Building and Safety as a prerequisite for inspection.'}, {'url': u'https://data.lacity.org/A-Livable-and-Sustainable-City/Bureau-Of-Contract-Administration-BCA-Performance-/xr6g-advn', 'id': u'xr6g-advn', 'name': u'Bureau Of Contract Administration BCA Performance Metrics', 'description': 'This dataset contains metrics that measure the operational performance of the Bureau of Contract Administration. These metrics are used on a regular basis by the department and the Mayor to evaluate progress and inform decision making. Performance management forms the foundation of a data-driven culture of innovation and excellence in the City of Los Angeles.'}, {'url': u'https://data.lacity.org/A-Livable-and-Sustainable-City/Bureau-of-Engineering-Permit-Information/j7mw-thyc', 'id': u'j7mw-thyc', 'name': u'Bureau of Engineering Permit Information', 'description': 'The Bureau of Engineering is the City of Los Angeles agency responsible for construction permits within the City\xe2\x80\x99s public right-of-way.\n\nThe public right-of-way generally consists of street easements that contain City streets, lanes, alleys, parkways, and sidewalks. The public right-of-way also includes public easements and unimproved streets.'}, {'url': u'https://data.lacity.org/A-Livable-and-Sustainable-City/Bureau-of-Sanitation-Abandoned-Waste-Collected-Act/k6sn-s44c', 'id': u'k6sn-s44c', 'name': u'Bureau of Sanitation Abandoned Waste Collected Activity', 'description': 'Abandoned waste collected is reported monthly by fiscal year'}, {'url': u'https://data.lacity.org/A-Livable-and-Sustainable-City/Bureau-of-Sanitation-Bulky-Item-Pickup-by-Next-Col/3jba-aaeq', 'id': u'3jba-aaeq', 'name': u'Bureau of Sanitation Bulky Item Pickup by Next Collection Day', 'description': 'Bulky item pickup data reported each month per fiscal year'}, {'url': u'https://data.lacity.org/A-Livable-and-Sustainable-City/Bureau-of-Sanitation-Number-Of-Catch-Basins-Cleane/8a3v-f7cr', 'id': u'8a3v-f7cr', 'name': u'Bureau of Sanitation Number Of Catch Basins Cleaned', 'description': 'Catch Basins cleaned is reported monthly by Sanitation.  Fiscal year runs July - June.'}, {'url': u'https://data.lacity.org/A-Livable-and-Sustainable-City/Bureau-Of-Sanitation-Number-Of-Catch-Basins-Cleane/vfw2-zehe', 'id': u'vfw2-zehe', 'name': u'Bureau Of Sanitation Number Of Catch Basins Cleaned Activity', 'description': 'Number of catch basins cleaned reported monthly.  Fiscal year runs July - June.'}, {'url': u'https://data.lacity.org/A-Livable-and-Sustainable-City/Bureau-of-Sanitation-Miles-of-Sewer-Cleaned/iyyp-p2fx', 'id': u'iyyp-p2fx', 'name': u'Bureau of Sanitation Miles of Sewer Cleaned', 'description': 'Miles of Sewer cleaned is reported monthly.'}, {'url': u'https://data.lacity.org/A-Livable-and-Sustainable-City/Bureau-Of-Street-Lighting-BSL-Performance-Metrics/5y5q-d9ew', 'id': u'5y5q-d9ew', 'name': u'Bureau Of Street Lighting BSL Performance Metrics', 'description': 'This dataset contains metrics that measure the operational performance of the Bureau of Street Lighting. These metrics are used on a regular basis by the department and the Mayor to evaluate progress and inform decision making. Performance management forms the foundation of a data-driven culture of innovation and excellence in the City of Los Angeles.'}, {'url': u'https://data.lacity.org/A-Livable-and-Sustainable-City/Bureau-Of-Street-Services-BSS-Performance-Metrics/qjsx-ic6b', 'id': u'qjsx-ic6b', 'name': u'Bureau Of Street Services BSS Performance Metrics', 'description': 'This dataset contains metrics that measure the operational performance of the Bureau of Street Services. These metrics are used on a regular basis by the department and the Mayor to evaluate progress and inform decision making. Performance management forms the foundation of a data-driven culture of innovation and excellence in the City of Los Angeles.'}, {'url': u'https://data.lacity.org/A-Prosperous-City/CA-EDD-Employment-State-County-GOVSTAT/ecai-dcsz', 'id': u'ecai-dcsz', 'name': u'CA EDD Employment State amp County GOVSTAT', 'description': 'Seasonally adjusted, monthly employment data for the state and for LA County'}, {'url': u'https://controllerdata.lacity.org/Statistics/California-Unemployment-Statistics/5zrb-xqhf', 'id': u'5zrb-xqhf', 'name': u'California Unemployment Statistics', 'description': 'Unemployment Statistics from the California Employment Development Department for the State, County of Los Angeles, and City of Los Angeles'}, {'url': u'https://controllerdata.lacity.org/Liabilities-and-Assets/Capital-Assets-of-the-City-of-Los-Angeles/kmmx-wb4k', 'id': u'kmmx-wb4k', 'name': u'Capital Assets of the City of Los Angeles', 'description': 'CAFR Pages 378-381.\n\n(1) In fiscal year 2010, DWP took over possession, management and control over majority of the assets.\n(2) Data changed to Department-owned generating units beginning fiscal year 2007.  The increase in generating units is due to renewables.\n(3) The Airports operate LAX, ONT, VNY and PMD.  However, PMD is not currently certificated by the FAA.'}, {'url': u'https://data.lacity.org/A-Livable-and-Sustainable-City/Cases-Completed-2013/wkek-kqw4', 'id': u'wkek-kqw4', 'name': u'Cases Completed 2013', 'description': 'Total Cases Completed by the Department of City Planning for the Year 2013.'}, {'url': u'https://data.lacity.org/A-Livable-and-Sustainable-City/Cases-Filed-2013/ckea-5u87', 'id': u'ckea-5u87', 'name': u'Cases Filed 2013', 'description': 'Total Cases Filed with the Department of City Planning for the Year 2013.'}, {'url': u'https://controllerdata.lacity.org/dataset/Catalog/hpxk-2i55', 'id': u'hpxk-2i55', 'name': u'Catalog', 'description': ''}, {'url': u'https://data.lacity.org/dataset/Category-Page-Box-Content/kxz5-hjdi', 'id': u'kxz5-hjdi', 'name': u'Category Page Box Content', 'description': ''}, {'url': u'https://data.lacity.org/dataset/Category-Page-Data/vq5t-iz3j', 'id': u'vq5t-iz3j', 'name': u'Category Page Data', 'description': ''}, {'url': u'https://data.lacity.org/A-Well-Run-City/CEC-City-Projects-and-Agencies-Lobbied-by-Register/4xuf-944h', 'id': u'4xuf-944h', 'name': u'CEC City Projects and Agencies Lobbied by Registered Lobbying Firms', 'description': 'City projects and agencies that were lobbied by a registered Lobbying Firm must be disclosed on a quarterly basis.'}, {'url': u'https://data.lacity.org/A-Well-Run-City/CEC-Clients-of-Registered-Lobbying-Firms/9z5d-hgrh', 'id': u'9z5d-hgrh', 'name': u'CEC Clients of Registered Lobbying Firms', 'description': 'Entities who wish to influence City matters often hire lobbyists to represent them. A lobbying firm must register these entities as clients.'}, {'url': u'https://data.lacity.org/A-Well-Run-City/CEC-Payments-Made-by-Clients-to-Registered-Lobbyin/h6ky-vznd', 'id': u'h6ky-vznd', 'name': u'CEC Payments Made by Clients to Registered Lobbying Firms', 'description': 'Payments made by clients to registered Lobbying Firms must be disclosed on a quarterly basis.'}, {'url': u'https://data.lacity.org/A-Well-Run-City/CEC-Registered-Lobbyists/j4zm-9kqu', 'id': u'j4zm-9kqu', 'name': u'CEC Registered Lobbyists', 'description': 'An individual who directly communicates with a City official for the purpose of influencing a legislative or administrative matter and is compensated to spend 30 or more hours in any consecutive three-month period engaged in lobbying activities must register with the Ethics Commission as a lobbyist. This also applies to in-house lobbyists (employees who are compensated to lobby only on behalf of their employers).'}, {'url': u'https://controllerdata.lacity.org/Budget/Changes-in-Fund-Balances-Governmental-Funds/2fff-deta', 'id': u'2fff-deta', 'name': u'Changes in Fund Balances Governmental Funds', 'description': 'CAFR Pages 338-339.\n\nModified Accrual Basis of Accounting.  Last Ten Fiscal Years. (amounts expressed in thousands)'}, {'url': u'https://controllerdata.lacity.org/Liabilities-and-Assets/Changes-in-Net-Position/b9gd-twyi', 'id': u'b9gd-twyi', 'name': u'Changes in Net Position', 'description': 'CAFR Pages 332-335.\n\nNet Position is the difference between the City\xe2\x80\x99s assets and liabilities, including deferred outflows/inflows of resources. This data summarizes the change in Net Position by Change Types, Asset Types, and Activities. This data is based on the following parameters: Accrual Basis of Accounting, Last Ten Fiscal Years and (amounts expressed in thousands).'}, {'url': u'https://data.lacity.org/A-Well-Run-City/City-Clerk-Performance-Metrics/rz94-zctd', 'id': u'rz94-zctd', 'name': u'City Clerk Performance Metrics', 'description': 'This dataset contains metrics that measure the operational performance of the City Clerk. These metrics are used on a regular basis by the department and the Mayor to evaluate progress and inform decision making. Performance management forms the foundation of a data-driven culture of innovation and excellence in the City of Los Angeles.'}, {'url': u'https://data.lacity.org/A-Well-Run-City/City-Departments-Entities/rr7p-pxbb', 'id': u'rr7p-pxbb', 'name': u'City Departments amp Entities', 'description': 'Listing of City departments and entities'}, {'url': u'https://controllerdata.lacity.org/Payroll/City-Employee-Locations-By-Department/7ct3-9xz9', 'id': u'7ct3-9xz9', 'name': u'City Employee Locations By Department', 'description': 'A listing of the number of City employees in each zip code, by Department. Data current as of December 31, 2013, and reflects addresses provided by employees to the City&#x27;s Payroll system. Employee-entered zip codes flagged as errors are set by default to coordinates (39.52368635500045, -99.11415045099966).'}, {'url': u'https://data.lacity.org/A-Livable-and-Sustainable-City/City-Owned-Parking-Lots-Feb2014/fn7g-dhya', 'id': u'fn7g-dhya', 'name': u'City Owned Parking Lots Feb2014', 'description': 'City Owned Parking Lots - LADOT'}, {'url': u'https://data.lacity.org/A-Livable-and-Sustainable-City/Citywide-LED-Streetlight-Savings/i4ke-p6yq', 'id': u'i4ke-p6yq', 'name': u'Citywide LED Streetlight Savings', 'description': 'The LED Streetlight Replacement Program has replaced over 150,000 existing streetlight fixtures in the city, resulting in substantial energy and carbon emissions savings.'}, {'url': u'https://data.lacity.org/A-Well-Run-City/Comparison-of-Residential-Power-and-Water-Rates/mnrz-a5vv', 'id': u'mnrz-a5vv', 'name': u'Comparison of Residential Power and Water Rates', 'description': 'Comparison of LADWP Residential Power and Water Rates. Bills compare a typical monthly bill (500kWh/month of power and 12 HCF of water). Data is from Summer of 2013.'}, {'url': u'https://data.lacity.org/A-Livable-and-Sustainable-City/Cultural-Affairs-Performance-Metrics/e3gp-gx53', 'id': u'e3gp-gx53', 'name': u'Cultural Affairs Performance Metrics', 'description': 'This dataset contains metrics that measure the operational performance of the Department of Cultural Affairs. These metrics are used on a regular basis by the department and the Mayor to evaluate progress and inform decision making.  Performance management forms the foundation of a data-driven culture of innovation and excellence in the City of Los Angeles.'}, {'url': u'https://data.lacity.org/dataset/DBS-Percentage-Square-Ft-Of-New-Development-Within/eber-g495', 'id': u'eber-g495', 'name': u'DBS Percentage Square Ft Of New Development Within 1 2 Mile Of Transit', 'description': 'To ensure the LA&#x27;s long term sustainability, protect single family neighborhoods, and make the most of our growing transit infrastructure, the City&#x27;s land use plans work to focus development near transit stations. These figures represent the share of all development that was permitted within a half mile of rail transit. A half mile is generally considered a reasonable distance to walk to access rail transportation.'}, {'url': u'https://data.lacity.org/dataset/DBS-Code-Enforcement/2dfa-j5cz', 'id': u'2dfa-j5cz', 'name': u'DBS Code Enforcement', 'description': ''}, {'url': u'https://data.lacity.org/A-Livable-and-Sustainable-City/DCA-Grant-Awards-by-Grant-Type/75mm-gccg', 'id': u'75mm-gccg', 'name': u'DCA Grant Awards by Grant Type', 'description': 'Providing grant support to LA\xe2\x80\x99s rich and diverse arts and cultural organizations and individual artists is the core service provided by the Department of Cultural Affairs. The budget of the Grant Program has fluctuated between $2.1 and $3.3 million dollars per year, approx. 10% of the department&#x27;s annual budget. The categories of grants include: Artists-In Residence (AIR), Cultural Engagement International (CEI), City of Los Angeles Fellowships (COLA) Individual Artist Fellowships, Community Advancement, and Organizational/Festival grants.'}, {'url': u'https://controllerdata.lacity.org/Statistics/Demographic-and-Economic-Statistics/9z75-k9sy', 'id': u'9z75-k9sy', 'name': u'Demographic and Economic Statistics', 'description': 'CAFR Page 359.\n\nLast Ten Fiscal Years.'}, {'url': u'https://data.lacity.org/A-Livable-and-Sustainable-City/Department-of-Recreation-and-Parks-Facility-and-Pa/ax8j-dhzm', 'id': u'ax8j-dhzm', 'name': u'Department of Recreation and Parks Facility and Park Information', 'description': 'The Department of Recreation and Parks&#x27; Facility and Park Information dataset provide information such as facilities and parks&#x27; addresses, contact phone numbers, websites, and mapping info by categories: beaches, camps, dog parks, equestrian centers, gardens, golf courses, lakes, museums, public computer centers, recreation centers, rental facilities, senior centers, skate parks, swimming pools, tennis courts, and theatres; and amenities: baseball/softball fields, basketball courts, hiking trails, outdoor fitness equipment, swimming pools with diving boards and universally accessible playgrounds.'}, {'url': u'https://data.lacity.org/A-Livable-and-Sustainable-City/Department-Of-Transportation-DOT-Performance-Metri/hqix-zyxk', 'id': u'hqix-zyxk', 'name': u'Department Of Transportation DOT Performance Metrics', 'description': 'This dataset contains metrics that measure the operational performance of the Department of Transportation. These metrics are used on a regular basis by the department and the Mayor to evaluate progress and inform decision making. Performance management forms the foundation of a data-driven culture of innovation and excellence in the City of Los Angeles.'}, {'url': u'https://data.lacity.org/dataset/Department-on-Disability-Performance-Metrics/5qhm-gdrd', 'id': u'5qhm-gdrd', 'name': u'Department on Disability Performance Metrics', 'description': ''}, {'url': u'https://controllerdata.lacity.org/Audits-and-Reports/Direct-and-Overlapping-Property-Tax-Rates/pxmh-mw9a', 'id': u'pxmh-mw9a', 'name': u'Direct and Overlapping Property Tax Rates', 'description': 'CAFR Page 344.\n\nTax Rate Area No. 4(a). Last Ten Fiscal Years.\n(a) Tax Rate Area # 4 is used to illustrate the breakdown of a tax rate within the City and applies to most properties within the City of Los Angeles. Since each property is subject to taxation by a number of taxing entities, the County groups all properties subject to taxation by the same entities into Tax Rate Areas (TRAs). There are over 274 TRAs in the City.'}, {'url': u'https://data.lacity.org/dataset/DOT-Total-Miles-Of-Bicycle-Lanes-And-Paths-Chart/pnat-cnpj', 'id': u'pnat-cnpj', 'name': u'DOT Total Miles Of Bicycle Lanes And Paths Chart', 'description': ''}, {'url': u'https://data.lacity.org/dataset/DOT-Traffic-Signal-Trouble-Call-Responses-Within-O/rjdk-rz7f', 'id': u'rjdk-rz7f', 'name': u'DOT Traffic Signal Trouble Call Responses Within One Hour', 'description': ''}, {'url': u'https://data.lacity.org/dataset/DWP-In-basin-Water/t4d8-zzd5', 'id': u't4d8-zzd5', 'name': u'DWP In basin Water', 'description': 'This metric measures the proportion of water that is locally sourced within the Los Angeles Basin. The higher this percentage, the less water we import from other regions. Our in-basin local water supply includes groundwater, recycled water, and captured stormwater. LADWP is working toward increasing the local water supply through conservation and local sources'}, {'url': u'https://data.lacity.org/dataset/DWP-Percentage-Of-Water-Purchased-From-MWD-3-Yr-Av/8yaq-2fpu', 'id': u'8yaq-2fpu', 'name': u'DWP Percentage Of Water Purchased From MWD 3 Yr Avg ', 'description': 'Los Angeles gets its water from several sources, including local water supplies, recycled water and the Owens Valley. When those sources do not provide enough to meet demand, the DWP must purchase water on the open market from the Metropolitan Water District. Water from the MWD costs more than the other sources, so keeping purchases from MWD low is important to ensuring stable and affordable rates for DWP customers. More information:https://www.ladwp.com/ladwp/faces/ladwp/aboutus/a-water/a-w-sourcesofsupply?_adf.ctrl-state=1cnzdaglow_191&amp;_afrLoop=65694383993634&amp;_afrWindowMode=0&amp;_afrWindowId=null#%40%3F_afrWindowId%3Dnull%26_afrLoop%3D65694383993634%26_afrWindowMode%3D0%26_adf.ctrl-state%3D15ucu0sq05_17'}, {'url': u'https://data.lacity.org/dataset/DWP-Power-Sourced-From-Coal-Chart/9hxb-dad7', 'id': u'9hxb-dad7', 'name': u'DWP Power Sourced From Coal Chart', 'description': 'In March 2013, the LADWP Board approved a contract that will enable LADWP to completely transition out of coal power. Through these actions, the City of Los Angeles became the first major city in the United States to commit to becoming coal free. More information:https://www.ladwp.com/ladwp/faces/ladwp/aboutus/a-power/a-p-renewableenergy?_adf.ctrl-state=1cnzdaglow_191&amp;_afrLoop=46545720898498'}, {'url': u'https://data.lacity.org/dataset/DWP-Quarterly-Cumulative-In-Basin-Solar-Installmen/4g57-9wbx', 'id': u'4g57-9wbx', 'name': u'DWP Quarterly Cumulative In Basin Solar Installments', 'description': 'Installed Capacity from Solar Incentive Program in Quarter Years (Kilowatts)'}, {'url': u'https://data.lacity.org/dataset/DWP-Renewables-Percentage-Annual/95j2-9tdv', 'id': u'95j2-9tdv', 'name': u'DWP Renewables Percentage Annual', 'description': 'To reduce Los Angeles&#x27; contribution to global warming pollution and to comply with state mandates, DWP is increasing the percentage of its energy that comes from clean renewable power. State mandates require that 33% of power comes from renewables by 2020. For more information, visitwww.ladwp.com/ladwp/faces/ladwp/aboutus/a-power/a-p-renewableenergy'}, {'url': u'https://data.lacity.org/dataset/DWP-Per-Capita-Water/ubph-b4it', 'id': u'ubph-b4it', 'name': u'DWP Per Capita Water', 'description': 'This metric measures the average total daily water use in Los Angeles, divided by the total number of residents. As this figure includes commercial, industrial, and institutional water use, this figure does not represent the average personal daily use of an individual Angeleno.'}, {'url': u'https://data.lacity.org/A-Livable-and-Sustainable-City/Eastern-Sierra-Overall-Snow-Pack-2013-2014-Snow-Se/4a8d-4327', 'id': u'4a8d-4327', 'name': u'Eastern Sierra Overall Snow Pack 2013 2014 Snow Season', 'description': 'LADWP&#x27;s measurement of Eastern Sierra Snow Pack for the 2013-2014 Winter Season'}, {'url': u'https://data.lacity.org/dataset/El-Pueblo-Performance-Metrics/i6yd-dz6m', 'id': u'i6yd-dz6m', 'name': u'El Pueblo Performance Metrics', 'description': 'This dataset contains metrics that measure the operational performance of the El Pueblo. These metrics are used on a regular basis by the department and the Mayor to evaluate progress and inform decision making.  Performance management forms the foundation of a data-driven culture of innovation and excellence in the City of Los Angeles.'}, {'url': u'https://data.lacity.org/A-Well-Run-City/Elected-Officials-Listing/2yhc-k26x', 'id': u'2yhc-k26x', 'name': u'Elected Officials Listing', 'description': 'List of elected officials and their offices.'}, {'url': u'https://data.lacity.org/A-Well-Run-City/Election-2013-March-Primary-Candidate-List/gr27-eza8', 'id': u'gr27-eza8', 'name': u'Election 2013 March Primary Candidate List', 'description': 'Candidates, Races and Measures'}, {'url': u'https://data.lacity.org/A-Well-Run-City/Election-2013-March-Primary-Polling-Place-List/hkig-2qjq', 'id': u'hkig-2qjq', 'name': u'Election 2013 March Primary Polling Place List', 'description': 'Listing of the poll place locations for the 2013 March primary election. Includes detail listing down to the established precincts with Council District indicator.'}, {'url': u'https://data.lacity.org/A-Well-Run-City/Election-2013-March-Primary-Voting-Results/tfsb-fwmw', 'id': u'tfsb-fwmw', 'name': u'Election 2013 March Primary Voting Results', 'description': 'Statement of Votes Cast of the Election Results'}, {'url': u'https://data.lacity.org/A-Well-Run-City/Election-2013-May-General-Candidate-List/x9tj-p4jm', 'id': u'x9tj-p4jm', 'name': u'Election 2013 May General Candidate List', 'description': 'Candidate Names, Races and Measures'}, {'url': u'https://data.lacity.org/A-Well-Run-City/Election-2013-May-General-Polling-Place-List/rnxp-tz2v', 'id': u'rnxp-tz2v', 'name': u'Election 2013 May General Polling Place List', 'description': 'Listing of the poll place locations for the 2013 May general election. Includes detail listing down to the established precincts with Council District indicator.'}, {'url': u'https://data.lacity.org/A-Well-Run-City/Election-2013-May-General-Voting-Results/iz73-c344', 'id': u'iz73-c344', 'name': u'Election 2013 May General Voting Results', 'description': 'Statement of Votes Cast of the Election Results'}, {'url': u'https://data.lacity.org/A-Well-Run-City/Election-2014-August-LAUSD-District-1-Polling-Plac/aeva-nfqz', 'id': u'aeva-nfqz', 'name': u'Election 2014 August LAUSD District 1 Polling Place List', 'description': 'Listing of the poll place locations for the 2014 August Los Angeles Unified School District 1 Runoff Special Election. Includes detail listing down to the established precincts.'}, {'url': u'https://data.lacity.org/A-Well-Run-City/Election-2014-August-LAUSD-District-1-Voting-Resul/v5uj-jj3r', 'id': u'v5uj-jj3r', 'name': u'Election 2014 August LAUSD District 1 Voting Results', 'description': 'Statement of Votes Cast of the Election Results for the Los Angeles Unifed School District 1 Runoff Election'}, {'url': u'https://data.lacity.org/A-Safe-City/Emergency-Management-Department-Community-Outreach/6xuk-a67v', 'id': u'6xuk-a67v', 'name': u'Emergency Management Department Community Outreach First Quarter 2014', 'description': 'Community Outreach conducted by the Emergency Management Department for the period of January - March 2014'}, {'url': u'https://data.lacity.org/A-Safe-City/Emergency-Management-Department-Responder-Training/mbhz-6it5', 'id': u'mbhz-6it5', 'name': u'Emergency Management Department Responder Training Second Quarter 2014', 'description': 'Emergency Management Department provided training for Emergency Operations Center (EOC), Department Operations Center (DOC), and Unified Command Post (UCP) responders for the period of April - June 2014'}, {'url': u'https://data.lacity.org/A-Safe-City/Emergency-Management-Department-Community-Outreach/4k67-bwgi', 'id': u'4k67-bwgi', 'name': u'Emergency Management Department Community Outreach Second Quarter 2014', 'description': 'Community outreach conducted by the Emergency Management Department for the period of April - June 2014.'}, {'url': u'https://data.lacity.org/A-Well-Run-City/Employer-Contrib/a6cj-i5wu', 'id': u'a6cj-i5wu', 'name': u'Employer Contrib', 'description': 'Employer Contributions'}, {'url': u'https://controllerdata.lacity.org/Audits-and-Reports/Energy-Sold-by-Type-of-Customer/irca-ezpb', 'id': u'irca-ezpb', 'name': u'Energy Sold by Type of Customer', 'description': 'CAFR Page 347.\n\nDepartment of Water and Power. Power Enterprise Fund\nLast Ten Fiscal Years'}, {'url': u'https://controllerdata.lacity.org/Budget/Enterprise-Pledged-Revenue-Coverage/ppqu-esu9', 'id': u'ppqu-esu9', 'name': u'Enterprise Pledged Revenue Coverage', 'description': 'CAFR Pages 356-357.\n\nAirports, Harbor, Power, Sewers, and Water Enterprise Operations. Operating Revenues and Expenditures. Last Ten Fiscal Years. (amounts expressed in thousands)'}, {'url': u'https://data.lacity.org/A-Livable-and-Sustainable-City/Events-from-LA-Festival-Guide-2014/acy8-72w9', 'id': u'acy8-72w9', 'name': u'Events from LA Festival Guide 2014', 'description': 'The LA Festival Guide is a calendar of festival events published by City of Los Angeles Department of Cultural Affairs. This dataset is extracted from the Festival Guide Website [http://lafestivalguide.org/]'}, {'url': u'https://data.lacity.org/A-Prosperous-City/EWDD-Business-Source-Center-Program-Performance-Ob/qqur-fdui', 'id': u'qqur-fdui', 'name': u'EWDD Business Source Center Program Performance Objectives', 'description': 'The BSC Program, funded through the CDBG, provides entrepreneurial training, technical assistance and access to capital for micro-enterprise and start-up businesses.  The program promotes job creation for Angelenos by providing entrepreneurs and small businesses the support they need to start and/or expand their businesses.  Goals are established through HUD guidelines and local measures.'}, {'url': u'https://data.lacity.org/A-Prosperous-City/EWDD-Day-Labor-Program/9et4-6fpi', 'id': u'9et4-6fpi', 'name': u'EWDD Day Labor Program', 'description': 'The Day Labor program, funded through CDBG, provides short-term employment and support services to unemployed Angelenos.  Goals for the program are established by federal regulations and local measures.'}, {'url': u'https://data.lacity.org/dataset/EWDD-State-Enterprise-Zone-Program-Performance-Out/wja6-7dvj', 'id': u'wja6-7dvj', 'name': u'EWDD State Enterprise Zone Program Performance Outcomes', 'description': 'The SEZ program provides tax credits to businesses that create jobs in distressed communities.  The SEZ program promotes good jobs for Angelenos by incentivizing job creation through the provision of tax credits to businesses that hire Angelenos in designated zones.  Goals are established through a contract with the California Department of Housing and Community Development.  The program ended on December 31, 2013 and replaced by the new state incentive program.'}, {'url': u'https://data.lacity.org/A-Prosperous-City/EWDD-Worksource-Center-Program-Performance-Outcome/7w5j-7jjp', 'id': u'7w5j-7jjp', 'name': u'EWDD Worksource Center Program Performance Outcomes', 'description': 'The WSC program, funded through the Workforce Investment Act (WIA); National Emergency Grant (NEG) and other competitive grants, provides employment training and placement services for adults and dislocated workers, with a special emphasis on vulnerable populations, including persons with disabilities, veterans, homeless, English-language learners and older workers.  Annual goals are established by California Employment Development Department and the US Department of Labor.'}, {'url': u'https://data.lacity.org/A-Livable-and-Sustainable-City/Feed-in-Tariff-Solar-Program/r3up-67wh', 'id': u'r3up-67wh', 'name': u'Feed in Tariff Solar Program', 'description': 'Quarter-Year Installed Capacity from the Feed-in Tariff (FiT) Program in Kilowatts. The FiT program enables third parties to develop solar or other renewable energy and sell the power to the utility.  This is a relatively new program with projects in the beginning stages.'}, {'url': u'https://data.lacity.org/A-Well-Run-City/Finance-Performance-Metrics/7y6s-y8bd', 'id': u'7y6s-y8bd', 'name': u'Finance Performance Metrics', 'description': 'This dataset contains metrics that measure the operational performance of the office of Finance. These metrics are used on a regular basis by the department and the Mayor to evaluate progress and inform decision making.  Performance management forms the foundation of a data-driven culture of innovation and excellence in the City of Los Angeles.'}, {'url': u'https://controllerdata.lacity.org/Audits-and-Reports/Fund-Balances-Governmental-Funds/48bu-rwwa', 'id': u'48bu-rwwa', 'name': u'Fund Balances Governmental Funds', 'description': 'CAFR Pages 338-339.\n\nThis data set shows the balance of Governmental Funds by Fiscal Year, Fund Type and Fund Restriction. A Fund is a fiscal entity with revenues and expenditures that are segregated for carrying out a specific purpose or activity. This data is based on the following parameters: Accrual Basis of Accounting, Last Ten Fiscal Years and (amounts expressed in thousands).'}, {'url': u'https://data.lacity.org/A-Well-Run-City/Funded-Status/e2fp-yzdz', 'id': u'e2fp-yzdz', 'name': u'Funded Status', 'description': 'Funded Status'}, {'url': u'https://controllerdata.lacity.org/Statistics/Gender-Breakdown-of-City-Workers-by-Category/fvfi-5kja', 'id': u'fvfi-5kja', 'name': u'Gender Breakdown of City Workers by Category', 'description': 'Analysis of 2013 full-time employee earnings by gender across the major employee categories in the City of Los Angeles.'}, {'url': u'https://data.lacity.org/A-Well-Run-City/General-Services-Department-GSD-Performance-Metric/8wjf-j9c8', 'id': u'8wjf-j9c8', 'name': u'General Services Department GSD Performance Metrics', 'description': 'This dataset contains metrics that measure the operational performance of the General Services Department. These metrics are used on a regular basis by the department and the Mayor to evaluate progress and inform decision making. Performance management forms the foundation of a data-driven culture of innovation and excellence in the City of Los Angeles.'}, {'url': u'https://data.lacity.org/A-Prosperous-City/Gross-Receipts-by-Industry/yqyr-2qgp', 'id': u'yqyr-2qgp', 'name': u'Gross Receipts by Industry', 'description': 'Summary of annually reported gross receipts by NAICS Industry Code.  Update Interval: Annually.'}, {'url': u'https://data.lacity.org/A-Livable-and-Sustainable-City/Groundwater-for-City-of-LA/r799-9mdt', 'id': u'r799-9mdt', 'name': u'Groundwater for City of LA', 'description': 'DWP Water Supply from Local Groundwater'}, {'url': u'https://data.lacity.org/A-Livable-and-Sustainable-City/Groundwater-Production-in-the-Central-Basin/uf5d-xdu4', 'id': u'uf5d-xdu4', 'name': u'Groundwater Production in the Central Basin', 'description': 'LADWP&#x27;s Production of local Groundwater.'}, {'url': u'https://data.lacity.org/A-Prosperous-City/Harbor-Port-TEU-Counts-Monthly-And-Calendar-YTD/tsuv-4rgh', 'id': u'tsuv-4rgh', 'name': u'Harbor Port TEU Counts Monthly And Calendar YTD', 'description': 'Monthly and cumulative calendar year to date (CYTD) figures for total TEU counts. TEU (Twenty-foot Equivalent Unit) is a unit of measure commonly used in the logistics sector to represent shipping containers -- the large boxes used to hold goods during travel by land or sea. This metric reflects the total amount of freight passing through the Port of Los Angeles.'}, {'url': u'https://data.lacity.org/A-Livable-and-Sustainable-City/HCIDLA-Affordable-Housing-Projects-Catalog-And-Lis/u4mj-cwbz', 'id': u'u4mj-cwbz', 'name': u'HCIDLA Affordable Housing Projects Catalog And Listing 2003 To Present ', 'description': 'HCIDLA projects developed with money from the Affordable Housing Trust Fund beginning in 2003 to present.'}, {'url': u'https://data.lacity.org/dataset/Home-Page-Featured-Datasets/pd86-g9ej', 'id': u'pd86-g9ej', 'name': u'Home Page Featured Datasets', 'description': ''}, {'url': u'https://data.lacity.org/dataset/Home-Page-Quick-Links/cbrw-uf54', 'id': u'cbrw-uf54', 'name': u'Home Page Quick Links', 'description': ''}, {'url': u'https://controllerdata.lacity.org/Internal/Home-Page-Featured-Scrolling-Stories/hmvt-bjfk', 'id': u'hmvt-bjfk', 'name': u'Home Page Featured Scrolling Stories', 'description': ''}, {'url': u'https://controllerdata.lacity.org/Internal/Home-Page-Stories/uuhh-hvvk', 'id': u'uuhh-hvvk', 'name': u'Home Page Stories', 'description': ''}, {'url': u'https://data.lacity.org/A-Livable-and-Sustainable-City/Housing-Community-Investment-Service-Locations/29cn-rph9', 'id': u'29cn-rph9', 'name': u'Housing amp Community Investment Service Locations', 'description': 'Locations of offices associated with the Los Angeles Housing and Community Investment Department which provide services to city residents.'}, {'url': u'https://data.lacity.org/A-Livable-and-Sustainable-City/Industrial-Wastewater-Permit-Compliance-Data/nkna-bbjk', 'id': u'nkna-bbjk', 'name': u'Industrial Wastewater Permit Compliance Data', 'description': 'The 2013 industrial wastewater discharge-related compliance rate is over 90%. A Notice of Violation is issued for non-compliance with an industrial wastewater permit conditions; such as discharge violation and non-discharge violations.  Non-discharge violations are reporting requirement or delinquent fees. The map illustrates the companies that received a Notice of Violation from 3/15/11 to 3/15/14.'}, {'url': u'https://data.lacity.org/A-Livable-and-Sustainable-City/Industrial-Wastewater-Permits-Data/89pe-ypgj', 'id': u'89pe-ypgj', 'name': u'Industrial Wastewater Permits Data', 'description': 'List of companies with active industrial wastewater permits as of 3/15/14 to allow discharge of industrial wastewater into City sewers.'}, {'url': u'https://data.lacity.org/A-Well-Run-City/Information-Technology-Agency-ITA-Performance-Metr/ub4i-fkh3', 'id': u'ub4i-fkh3', 'name': u'Information Technology Agency ITA Performance Metrics', 'description': 'This dataset contains metrics that measure the operational performance of the Information Technology Agency. These metrics are used on a regular basis by the department and the Mayor to evaluate progress and inform decision making. Performance management forms the foundation of a data-driven culture of innovation and excellence in the City of Los Angeles.'}, {'url': u'https://controllerdata.lacity.org/A-Well-Run-City/Invoices-and-Purchase-Orders-for-City-Goods-and-Su/5ru3-n8sy', 'id': u'5ru3-n8sy', 'name': u'Invoices and Purchase Orders for City Goods and Supplies', 'description': 'List of all vendors who have submitted an invoice to the City of Los Angeles. Data sourced from the Supply Management System (SMS) and the General Services Department (GSD).'}, {'url': u'https://data.lacity.org/dataset/ITA-of-Unique-Monthly-Website-Visits/822f-gjp4', 'id': u'822f-gjp4', 'name': u'ITA of Unique Monthly Website Visits', 'description': ''}, {'url': u'https://data.lacity.org/dataset/ITA-Monthly-Downloads-My-LA-311-App/tsrc-szkh', 'id': u'tsrc-szkh', 'name': u'ITA Monthly Downloads My LA 311 App', 'description': ''}, {'url': u'https://data.lacity.org/dataset/ITA-311-Data/bpyg-ytsg', 'id': u'bpyg-ytsg', 'name': u'ITA 311 Data', 'description': 'This data shows the source of 311 requests and the wait time to speak to an agent when dialing 311.'}, {'url': u'https://data.lacity.org/A-Livable-and-Sustainable-City/L-A-Zoo-Attendance/3gwn-arjr', 'id': u'3gwn-arjr', 'name': u'L A Zoo Attendance', 'description': 'L.A. Zoo attendance for the last 5 years.'}, {'url': u'https://data.lacity.org/dataset/L-A-Zoo-Budget-Appropriation/jpdu-8y8k', 'id': u'jpdu-8y8k', 'name': u'L A Zoo Budget Appropriation', 'description': 'L.A. Zoo budget appropriation for the last 5 years.'}, {'url': u'https://data.lacity.org/A-Livable-and-Sustainable-City/LA-S-A-F-E-Solvents-Automotive-Flammables-E-Waste-/t8kf-2y96', 'id': u't8kf-2y96', 'name': u'LA S A F E Solvents Automotive Flammables E Waste Centers', 'description': 'Items accepted include: paint and solvents; automotive fluids; cleaning products; batteries and E-waste such as computers or TVs. Unacceptable items include: business waste, ammunition, explosives, radioactive material, biological waste and bulky items such as furniture or refrigerators.'}, {'url': u'https://data.lacity.org/A-Prosperous-City/LADBS-Permit-Valuation-Quarterly/55x4-9gk6', 'id': u'55x4-9gk6', 'name': u'LADBS Permit Valuation Quarterly', 'description': 'LADBS Permit Valuation, an estimate of the value of all work and capital associated with new applications for development permits'}, {'url': u'https://data.lacity.org/A-Livable-and-Sustainable-City/LADOT-Traffic-Counts-Summary/94wu-3ps3', 'id': u'94wu-3ps3', 'name': u'LADOT Traffic Counts Summary', 'description': 'LADOT automated and manual traffic count summary data for intersections throughout Los Angeles. Manual counts (&quot;MAN&quot; under the &quot;Type&quot; column) are generally 6-hr counts which have been expanded  using a conversion factor.'}, {'url': u'https://data.lacity.org/A-Livable-and-Sustainable-City/LADWP-Energy-Efficiency-for-FY-13-14/4ftr-pfem', 'id': u'4ftr-pfem', 'name': u'LADWP Energy Efficiency for FY 13 14', 'description': 'Listing of LADWP&#x27;s Energy Efficiency Programs and Energy Savings for Fiscal Year 2013-14'}, {'url': u'https://data.lacity.org/A-Livable-and-Sustainable-City/LADWP-Once-Through-Cooling-OTC-/hsmw-wwd6', 'id': u'hsmw-wwd6', 'name': u'LADWP Once Through Cooling OTC ', 'description': 'Once-Through Cooling is the process of drawing ocean water and pumping it through a generating station&#x27;s cooling system, then discharging it back into the ocean. LADWP is eliminating the use of ocean water for cooling in its 3 coastal power plants. MGD stands for Million Gallons per Day.'}, {'url': u'https://data.lacity.org/A-Livable-and-Sustainable-City/LADWP-Power-Outages/r95y-gwez', 'id': u'r95y-gwez', 'name': u'LADWP Power Outages', 'description': 'Annual recorded number of Power Outages at LADWP'}, {'url': u'https://data.lacity.org/A-Well-Run-City/LADWP-Power-Poles-Installation/t24g-hqix', 'id': u't24g-hqix', 'name': u'LADWP Power Poles Installation', 'description': 'Age of LADWP Power Poles in Los Angeles'}, {'url': u'https://data.lacity.org/A-Livable-and-Sustainable-City/LADWP-Power-Supply-Since-2003/hmiy-sxh5', 'id': u'hmiy-sxh5', 'name': u'LADWP Power Supply Since 2003', 'description': 'LADWP&#x27;s Power Content Label certified by the California Energy Commission'}, {'url': u'https://data.lacity.org/A-Livable-and-Sustainable-City/LADWP-Service-Center-Addresses/uh2b-55sv', 'id': u'uh2b-55sv', 'name': u'LADWP Service Center Addresses', 'description': 'Location of LADWP Service Center'}, {'url': u'https://data.lacity.org/A-Livable-and-Sustainable-City/LADWP-Solar-Incentive-Program/2yrw-q8tw', 'id': u'2yrw-q8tw', 'name': u'LADWP Solar Incentive Program', 'description': 'Installed Capacity from Solar Incentive Program in Quarter Years (Kilowatts)'}, {'url': u'https://data.lacity.org/A-Livable-and-Sustainable-City/LADWP-Solar-Interconnection-Time/m5ec-bb8m', 'id': u'm5ec-bb8m', 'name': u'LADWP Solar Interconnection Time', 'description': 'The average amount of days to interconnect solar panels'}, {'url': u'https://data.lacity.org/A-Livable-and-Sustainable-City/LADWP-Stormwater-Capture-by-Fiscal-Year/p8nc-6hdi', 'id': u'p8nc-6hdi', 'name': u'LADWP Stormwater Capture by Fiscal Year', 'description': 'LADWP&#x27;s capacity for stormwater and actual stormwater collected'}, {'url': u'https://data.lacity.org/A-Livable-and-Sustainable-City/LADWP-Water-Mainline-Replacement/pzs3-fue3', 'id': u'pzs3-fue3', 'name': u'LADWP Water Mainline Replacement', 'description': 'Water Pipe Mainline Replacement in feet by month.'}, {'url': u'https://data.lacity.org/A-Safe-City/LAFD_ResponseMetrics_RawData/cthf-nngn', 'id': u'cthf-nngn', 'name': u'LAFD_ResponseMetrics_RawData', 'description': 'The Los Angeles Fire Department (LAFD)\xe2\x80\x99s Computer Aided Dispatch (CAD) system is a transactional, event\xe2\x80\x90driven system that records dates and time stamps based on events triggered by two distinct human interactions: interaction with CAD at the dispatch center via CAD workstation, and interaction with CAD via the Mobile Data Computer (MDC) installed in the responding LAFD unit, communicating with CAD through the LAFD\xe2\x80\x99s Radio Network Controller (RNC).'}, {'url': u'https://data.lacity.org/A-Well-Run-City/LAFPP-Portfolio-Summary/tnz4-ynvq', 'id': u'tnz4-ynvq', 'name': u'LAFPP Portfolio Summary', 'description': 'LAFPP Portfolio Summary'}, {'url': u'https://data.lacity.org/A-Safe-City/LAPD-Annual-High-Level-Metrics-GOVSTAT/t6kt-2yic', 'id': u't6kt-2yic', 'name': u'LAPD Annual High Level Metrics GOVSTAT', 'description': 'Contains rolled up annual'}, {'url': u'https://data.lacity.org/A-Safe-City/LAPD-Calls-for-Service-YTD-2014/mgue-vbsx', 'id': u'mgue-vbsx', 'name': u'LAPD Calls for Service YTD 2014', 'description': 'LAPD Calls for Service YTD 2014'}, {'url': u'https://data.lacity.org/A-Safe-City/LAPD-Crime-and-Collision-Raw-Data-2014/eta5-h8qx', 'id': u'eta5-h8qx', 'name': u'LAPD Crime and Collision Raw Data 2014', 'description': 'LAPD Crime and Collision Raw Data - 2014'}, {'url': u'https://data.lacity.org/A-Safe-City/LAPD-Crime-and-Collision-Raw-Data-for-2013/iatr-8mqm', 'id': u'iatr-8mqm', 'name': u'LAPD Crime and Collision Raw Data for 2013', 'description': 'LAPD Crime and Collision Raw Data for 2013'}, {'url': u'https://data.lacity.org/A-Livable-and-Sustainable-City/Library-Performance-Metrics/kkby-9hji', 'id': u'kkby-9hji', 'name': u'Library Performance Metrics', 'description': 'This dataset contains metrics that measure the operational performance of the Library. These metrics are used on a regular basis by the department and the Mayor to evaluate progress and inform decision making. Performance management forms the foundation of a data-driven culture of innovation and excellence in the City of Los Angeles.'}, {'url': u'https://data.lacity.org/A-Livable-and-Sustainable-City/Library-Branches/a4nt-4gca', 'id': u'a4nt-4gca', 'name': u'Library Branches', 'description': 'Name, Location, Council District, Phone Number and Email Address for all 72 library branches.'}, {'url': u'https://data.lacity.org/A-Well-Run-City/Library-Monthly-Stats/m4ev-cuzz', 'id': u'm4ev-cuzz', 'name': u'Library Monthly Stats', 'description': 'Monthly statistics from the Library on Web visits, computer usage, e-media, etc.'}, {'url': u'https://data.lacity.org/dataset/LIBRARY-Quarterly-EMedia-Circulation/vyhg-nvzw', 'id': u'vyhg-nvzw', 'name': u'LIBRARY Quarterly EMedia Circulation', 'description': ''}, {'url': u'https://data.lacity.org/A-Prosperous-City/Listing-of-Active-Businesses/6rrh-rzua', 'id': u'6rrh-rzua', 'name': u'Listing of Active Businesses', 'description': 'Listing of all active businesses currently registered with the Office of Finance. An &quot;active&quot; business is defined as a registered business whose owner has not notified the Office of Finance of a cease of business operations. Update Interval: Monthly.'}, {'url': u'https://controllerdata.lacity.org/Payroll/Los-Angeles-City-Payroll-Calendar/anqa-iu8a', 'id': u'anqa-iu8a', 'name': u'Los Angeles City Payroll Calendar', 'description': 'Payroll Calendar for the City of Los Angeles, 2013-2016.'}, {'url': u'https://data.lacity.org/A-Prosperous-City/Los-Angeles-International-Airport-Air-Cargo-Volume/tx7r-x3hp', 'id': u'tx7r-x3hp', 'name': u'Los Angeles International Airport Air Cargo Volume', 'description': 'Tons of cargo that moved in and out through the Airport'}, {'url': u'https://data.lacity.org/A-Prosperous-City/Los-Angeles-International-Airport-Flight-Operation/ajiv-uc63', 'id': u'ajiv-uc63', 'name': u'Los Angeles International Airport Flight Operations By Month', 'description': 'Number of Flights That Occurred at the Airport'}, {'url': u'https://data.lacity.org/A-Prosperous-City/Los-Angeles-International-Airport-Ground-Vehicle-T/9uit-a3wp', 'id': u'9uit-a3wp', 'name': u'Los Angeles International Airport Ground Vehicle Traffic Volume', 'description': 'Ground Vehicle Statistic that entered and exited LAX&#x27;s Central Terminal Area'}, {'url': u'https://data.lacity.org/A-Prosperous-City/Los-Angeles-International-Airport-Passenger-Count-/d3a2-7j6v', 'id': u'd3a2-7j6v', 'name': u'Los Angeles International Airport Passenger Count By Carrier Type', 'description': 'Passenger Statistic By Carrier Type'}, {'url': u'https://data.lacity.org/A-Prosperous-City/Los-Angeles-International-Airport-Passenger-Traffi/g3qu-7q2u', 'id': u'g3qu-7q2u', 'name': u'Los Angeles International Airport Passenger Traffic By Terminal', 'description': 'Los Angeles International Airport  - Passenger Statistic By Terminal'}, {'url': u'https://data.lacity.org/A-Well-Run-City/Member-Health-Subsidy/7ecf-jj8x', 'id': u'7ecf-jj8x', 'name': u'Member Health Subsidy', 'description': 'Member Health Subsidy'}, {'url': u'https://controllerdata.lacity.org/Internal/Messages/dsnd-us3j', 'id': u'dsnd-us3j', 'name': u'Messages', 'description': ''}, {'url': u'https://data.lacity.org/A-Livable-and-Sustainable-City/Monthly-Electric-Residential-Use-from-2005-2013-By/aym7-u9af', 'id': u'aym7-u9af', 'name': u'Monthly Electric Residential Use from 2005 2013 By Zip', 'description': 'Monthly residential energy use by zip code. Numbers represent kilowatt hour (kWh) usage.'}, {'url': u'https://data.lacity.org/A-Prosperous-City/Multipurpose-Senior-Center-Locations/qf8m-dzta', 'id': u'qf8m-dzta', 'name': u'Multipurpose Senior Center Locations', 'description': 'Location of Multipurpose Senior Centers in the City of Los Angeles'}, {'url': u'https://data.lacity.org/A-Well-Run-City/Neighborhood-Councils/4ee5-wmby', 'id': u'4ee5-wmby', 'name': u'Neighborhood Councils', 'description': 'Neighborhood Council Roster, with meeting locations and dates'}, {'url': u'https://controllerdata.lacity.org/Liabilities-and-Assets/Net-Position-by-Category/87im-rub8', 'id': u'87im-rub8', 'name': u'Net Position by Category', 'description': 'CAFR Pages 330-331.\n\nNet Position is the difference between the City\xe2\x80\x99s assets and liabilities, including deferred outflows/inflows of resources. This data summarizes Net Position by Activity Types, Asset Type Groups, and Asset Types. This data is based on the following parameters: Accrual Basis of Accounting, Last Ten Fiscal Years and (amounts expressed in thousands).'}, {'url': u'https://controllerdata.lacity.org/Payroll/Number-of-City-Government-Employees-by-Function-Pr/6x8j-4mie', 'id': u'6x8j-4mie', 'name': u'Number of City Government Employees by Function Program', 'description': 'CAFR Pages 362-365.\n\nFull-Time Equivalent. Last Ten Fiscal Years.\n\n(1) In fiscal year 2011, Environmental Affairs Department was eliminated.  Its resources and functions were transferred to the Department of Public Works Bureau of Sanitation, Building and Safety, and Transportation.\n(2) The Department of Neighborhood Empowerment was created by Ordinance in fiscal year 2000 .\n(3) The Treasurer was transferred out of Finance and restored as its own department in fiscal year 2004. Both departments were consolidated in fiscal year 2012.\n(4) Emergency Preparedness was created as a separate department in fiscal year 2001.  In November 2007, name changed to Emergency Management Department.\n(5) In fiscal year 2002, Public Works- Accounting and Management Employee Services were consolidated.  In fiscal year 2005, their resources and functions were transferred to the Board of Public Works Commissioners.\n(6) In fiscal year 2010, Commission on the Status of Women, Commission for Children, Youth and Familiess and Human Relations Commission were consolidated.\n(7) Certain changes were made to conform to the FY2013 presentation.'}, {'url': u'https://data.lacity.org/A-Well-Run-City/Number-Of-Delayed-Bills/f7se-beud', 'id': u'f7se-beud', 'name': u'Number Of Delayed Bills', 'description': 'Number of delayed LADWP bills and revenue in millions from delayed bills.'}, {'url': u'https://data.lacity.org/A-Prosperous-City/Number-of-LADWP-Customer-Accounts/4z5w-yabs', 'id': u'4z5w-yabs', 'name': u'Number of LADWP Customer Accounts', 'description': 'Total number of Customer Accounts at LADWP from year to year.'}, {'url': u'https://data.lacity.org/dataset/Office-Of-Community-Beautification-Graffiti-Remova/gkcu-pvq9', 'id': u'gkcu-pvq9', 'name': u'Office Of Community Beautification Graffiti Removal Totals And Response Rates GOVSTAT', 'description': 'Monthly figures for total square feet of graffiti removal and response times for requests through 311 or online.'}, {'url': u'https://data.lacity.org/A-Prosperous-City/Ontario-International-Airport-Air-Cargo-Volume/vw9s-tehc', 'id': u'vw9s-tehc', 'name': u'Ontario International Airport Air Cargo Volume', 'description': 'Tons of cargo that moved in and out through the Airport'}, {'url': u'https://data.lacity.org/A-Prosperous-City/Ontario-International-Airport-Flight-Operations-By/wezh-ydap', 'id': u'wezh-ydap', 'name': u'Ontario International Airport Flight Operations By Month', 'description': 'Number of Flights That Occurred at the Airport'}, {'url': u'https://data.lacity.org/A-Prosperous-City/Ontario-International-Airport-Passenger-Count-By-C/ucf5-wsd9', 'id': u'ucf5-wsd9', 'name': u'Ontario International Airport Passenger Count By Carrier Type', 'description': 'Tons of cargo that moved in and out through the Airport'}, {'url': u'https://data.lacity.org/A-Prosperous-City/Ontario-International-Airport-Passenger-Traffic-By/yp92-hc33', 'id': u'yp92-hc33', 'name': u'Ontario International Airport Passenger Traffic By Terminal', 'description': 'Ontario International Airport - Passenger Statistic By Terminal'}, {'url': u'https://controllerdata.lacity.org/dataset/Open-Expenditures-Internal-Data-Vendor-List/f8az-yp7d', 'id': u'f8az-yp7d', 'name': u'Open Expenditures Internal Data Vendor List', 'description': ''}, {'url': u'https://controllerdata.lacity.org/Liabilities-and-Assets/Outstanding-Debt-by-Type/qnfz-jscz', 'id': u'qnfz-jscz', 'name': u'Outstanding Debt by Type', 'description': 'CAFR Pages 350-351.\n\nLast Ten Fiscal Years (amounts expressed in thousands, except per capita)'}, {'url': u'https://data.lacity.org/A-Well-Run-City/Personnel-Performance-Metrics/bjf9-aept', 'id': u'bjf9-aept', 'name': u'Personnel Performance Metrics', 'description': 'This dataset contains metrics that measure the operational performance of the Personnel Department. These metrics are used on a regular basis by the department and the Mayor to evaluate progress and inform decision making. Performance management forms the foundation of a data-driven culture of innovation and excellence in the City of Los Angeles.'}, {'url': u'https://data.lacity.org/A-Well-Run-City/Planned-and-Recently-Completed-Power-Infrastructur/tbet-8msw', 'id': u'tbet-8msw', 'name': u'Planned and Recently Completed Power Infrastructure Replacements', 'description': 'Recently completed and planned Power Infrastructure Replacements for the current fiscal year. &quot;C&quot; indicates completed projects &quot;X&quot; indicate planned projects. &quot;Other&quot; refers to upgrades outside the PRP program. For more information please visit LADWP&#x27;s PRP webpage:http://134.201.250.86/Default.aspx.'}, {'url': u'https://data.lacity.org/dataset/POLA-Emissions-From-Port-Operations-NOx-SOx-DPM/k98w-s24w', 'id': u'k98w-s24w', 'name': u'POLA Emissions From Port Operations NOx SOx DPM', 'description': 'This table reports emissions from Port operations in oxides of nitrogen (NOx), Oxides of Sulfur (SOx), and Diesel Particulate Matter (DPM); emissions impact health and quality of life in the Port-adjacent communities. Source: POLA Annual emissions inventory (for Port reductions)'}, {'url': u'https://data.lacity.org/dataset/POLA-Emissions-Reduction-Percentage/aiix-duyv', 'id': u'aiix-duyv', 'name': u'POLA Emissions Reduction Percentage', 'description': 'This table reports emissions from Port operations in oxides of nitrogen (NOx), Oxides of Sulfur (SOx), and Diesel Particulate Matter (DPM); emissions impact health and quality of life in the Port-adjacent communities. Source: POLA Annual emissions inventory (for Port reductions)'}, {'url': u'https://data.lacity.org/A-Well-Run-City/POLA-Finance-Annual-Financial-Report-CAFR-/jdgw-bwcf', 'id': u'jdgw-bwcf', 'name': u'POLA Finance Annual Financial Report CAFR ', 'description': 'POLA Finance Annual Financial Report (CAFR)'}, {'url': u'https://data.lacity.org/A-Well-Run-City/POLA-Quarterly-Financial-Statement/v7gk-cxxi', 'id': u'v7gk-cxxi', 'name': u'POLA Quarterly Financial Statement', 'description': 'POLA Quarterly Financial Statement'}, {'url': u'https://data.lacity.org/A-Well-Run-City/Port-of-LA-Single-Audit-Report/xhx7-hr4h', 'id': u'xhx7-hr4h', 'name': u'Port of LA Single Audit Report', 'description': 'Port of Los Angeles Single Audit report details (Federal grant usage).'}, {'url': u'https://data.lacity.org/A-Well-Run-City/Port-of-Los-Angeles-Adopted-Budget-Last-5-years-/7hg6-c9kc', 'id': u'7hg6-c9kc', 'name': u'Port of Los Angeles Adopted Budget Last 5 years ', 'description': 'Port of Los Angeles - Adopted Budget (Last 5 years)'}, {'url': u'https://data.lacity.org/A-Well-Run-City/Port-Of-Los-Angeles-Adopted-Budget-Last-5-Years/du8q-hww5', 'id': u'du8q-hww5', 'name': u'Port Of Los Angeles Adopted Budget Last 5 Years', 'description': 'POLA adopted budget for last 5 years.'}, {'url': u'https://data.lacity.org/A-Livable-and-Sustainable-City/Port-of-Los-Angeles-ADP-Project/s5jy-jcce', 'id': u's5jy-jcce', 'name': u'Port of Los Angeles ADP Project', 'description': 'Port of Los Angeles - Application for Discretionary Permit (ADP) Project'}, {'url': u'https://data.lacity.org/A-Well-Run-City/Port-of-Los-Angeles-Client-Tracking-System-Expired/8pts-v2i6', 'id': u'8pts-v2i6', 'name': u'Port of Los Angeles Client Tracking System Expired Insurance ', 'description': 'Port of Los Angeles - Client Tracking System (Expired Insurance) - Contracts with Expired Insurance'}, {'url': u'https://data.lacity.org/A-Prosperous-City/Port-of-Los-Angeles-Cruise-Passenger/jmt8-y5rm', 'id': u'jmt8-y5rm', 'name': u'Port of Los Angeles Cruise Passenger', 'description': 'Port of Los Angeles - Cruise Passenger'}, {'url': u'https://data.lacity.org/dataset/Port-of-Los-Angeles-Emission-from-Port-Operations/2t3h-my34', 'id': u'2t3h-my34', 'name': u'Port of Los Angeles Emission from Port Operations', 'description': 'Port of Los Angeles - Emission from Port Operations'}, {'url': u'https://data.lacity.org/A-Prosperous-City/Port-of-Los-Angeles-Film-Permit-Tracking-2014/geed-7eey', 'id': u'geed-7eey', 'name': u'Port of Los Angeles Film Permit Tracking 2014', 'description': 'Port of Los Angeles - Film Permit Tracking 2014'}, {'url': u'https://data.lacity.org/A-Prosperous-City/Port-of-Los-Angeles-Historic-Tonage-Data-MMRT/i9rh-q5gx', 'id': u'i9rh-q5gx', 'name': u'Port of Los Angeles Historic Tonage Data MMRT', 'description': 'Port of Los Angeles - Historic Tonage Data MMRT'}, {'url': u'https://data.lacity.org/A-Prosperous-City/Port-of-Los-Angeles-Historic-Tonage-Data-Short-Ton/5a4i-e2zs', 'id': u'5a4i-e2zs', 'name': u'Port of Los Angeles Historic Tonage Data Short Ton 1920 1970 ', 'description': 'Port of Los Angeles - Historic Tonage Data Short Ton(1920-1970)'}, {'url': u'https://data.lacity.org/A-Prosperous-City/Port-of-Los-Angeles-Historical-TEU-Statistics/38a8-tm7u', 'id': u'38a8-tm7u', 'name': u'Port of Los Angeles Historical TEU Statistics', 'description': 'Port of Los Angeles - Historical TEU Statistics: A &quot;TEU&quot; is a &quot;twenty-foot equivalent unit,&quot; which is a standard measurement of shipping cargo based on a twenty-foot long shipping container.'}, {'url': u'https://data.lacity.org/A-Livable-and-Sustainable-City/Port-of-Los-Angeles-Port-Air-Quality/b3i5-86hy', 'id': u'b3i5-86hy', 'name': u'Port of Los Angeles Port Air Quality', 'description': 'Air quality by Elemental Carbon (EC) measure.'}, {'url': u'https://data.lacity.org/A-Safe-City/Port-of-Los-Angeles-Public-Safety-and-Law-Enforcem/r5zp-atgu', 'id': u'r5zp-atgu', 'name': u'Port of Los Angeles Public Safety and Law Enforcement', 'description': 'Port of Los Angeles - Public Safety and Law Enforcement'}, {'url': u'https://data.lacity.org/dataset/Port-of-Los-Angeles-Workers-Compensation-Benefits-/v3my-p6u5', 'id': u'v3my-p6u5', 'name': u'Port of Los Angeles Workers Compensation Benefits Expenditures', 'description': 'Benefits Expenditures'}, {'url': u'https://data.lacity.org/dataset/Port-of-Los-Angeles-Workers-Compensation-New-Claim/s2gq-nz3r', 'id': u's2gq-nz3r', 'name': u'Port of Los Angeles Workers Compensation New Claims', 'description': 'New Claims Per Month'}, {'url': u'https://data.lacity.org/A-Livable-and-Sustainable-City/Posted-Street-Sweeping-Routes/krk7-ayq2', 'id': u'krk7-ayq2', 'name': u'Posted Street Sweeping Routes', 'description': 'Motor sweeping program: route #s, boundaries and times for posted routes only. Maps are available as downloadable PDFs under the Attachments section of the About tab.'}, {'url': u'https://data.lacity.org/A-Livable-and-Sustainable-City/Power-Generation-for-LADWP/3y62-apdd', 'id': u'3y62-apdd', 'name': u'Power Generation for LADWP', 'description': 'Sources of LADWP&#x27;s Power'}, {'url': u'https://data.lacity.org/A-Well-Run-City/Power-Outages-From-2004-To-2013/f3w9-j7hj', 'id': u'f3w9-j7hj', 'name': u'Power Outages From 2004 To 2013', 'description': 'Power outages From 2004 To 2013 Excluding Consumer Caused Outages.  Location represent the LADWP facility that responded to the power outage.'}, {'url': u'https://controllerdata.lacity.org/Statistics/Principal-Employers-in-the-City-of-Los-Angeles/hndw-h3vq', 'id': u'hndw-h3vq', 'name': u'Principal Employers in the City of Los Angeles', 'description': 'CAFR Page 360.\n\nCurrent Year and Nine Years Ago'}, {'url': u'https://controllerdata.lacity.org/Revenue/Property-Tax-Levies-and-Collections/2xwp-pqjt', 'id': u'2xwp-pqjt', 'name': u'Property Tax Levies and Collections', 'description': 'CAFR Page 346.\n\nLast Ten Fiscal Years (amounts expressed in thousands).'}, {'url': u'https://controllerdata.lacity.org/Liabilities-and-Assets/Ratios-of-General-Bonded-Debt-Outstanding-and-Lega/is8h-jh3i', 'id': u'is8h-jh3i', 'name': u'Ratios of General Bonded Debt Outstanding and Legal Debt Margin', 'description': 'CAFR Pages 354-355.\n\nLast Ten Fiscal Years (amounts expressed in thousands, except per capita)'}, {'url': u'https://data.lacity.org/A-Livable-and-Sustainable-City/Recently-Constructed-Bus-Pads-and-Landings/msv5-mj8x', 'id': u'msv5-mj8x', 'name': u'Recently Constructed Bus Pads and Landings', 'description': 'Locations for concrete bus pads and bus landings installed to date for current fiscal year.'}, {'url': u'https://data.lacity.org/A-Livable-and-Sustainable-City/Recently-Constructed-Pedestrian-Curb-Ramps/cu97-7vhd', 'id': u'cu97-7vhd', 'name': u'Recently Constructed Pedestrian Curb Ramps', 'description': 'Locations of concrete curb ramps installed to date for current fiscal year.'}, {'url': u'https://data.lacity.org/A-Livable-and-Sustainable-City/Recently-Trimmed-Trees-by-Location/dxdk-nc7w', 'id': u'dxdk-nc7w', 'name': u'Recently Trimmed Trees by Location', 'description': 'Proactive street segment tree trimming by contractors (does not include emergency response on individual trees by city tree crews.) Includes all contracted tree trimming completed to date for current fiscal year.'}, {'url': u'https://data.lacity.org/A-Livable-and-Sustainable-City/Recently-Trimmed-Trees-by-Species/q8t4-jyju', 'id': u'q8t4-jyju', 'name': u'Recently Trimmed Trees by Species', 'description': 'Proactive street segment tree trimming by contractors (does not include emergency response on individual trees by city tree crews.) Includes all contracted tree trimming completed to date for current fiscal year.'}, {'url': u'https://data.lacity.org/A-Livable-and-Sustainable-City/Recreation-and-Parks-Performance-Metrics/bh4k-73tk', 'id': u'bh4k-73tk', 'name': u'Recreation and Parks Performance Metrics', 'description': ''}, {'url': u'https://data.lacity.org/A-Livable-and-Sustainable-City/Recycled-Water-Delivered-in-the-City-of-Los-Angele/f4qc-fg29', 'id': u'f4qc-fg29', 'name': u'Recycled Water Delivered in the City of Los Angeles', 'description': 'Recycled Water delivered in the City of Los Angeles in Acre-Feet. An Acre Foot is a unit of volume equal to one foot water in depth spread across one Acre (325,853.38 gallons).'}, {'url': u'https://data.lacity.org/A-Livable-and-Sustainable-City/Refuse-Collection-Truck-Mileage-Calendar-Year-2014/s82z-8azd', 'id': u's82z-8azd', 'name': u'Refuse Collection Truck Mileage Calendar Year 2014', 'description': 'Bureau of Sanitation refuse collection truck miles reported monthly.'}, {'url': u'https://data.lacity.org/A-Livable-and-Sustainable-City/Renewable-Projects-Since-2003/xuce-e6ip', 'id': u'xuce-e6ip', 'name': u'Renewable Projects Since 2003', 'description': 'LADWP Renewable Projects since 2003'}, {'url': u'https://data.lacity.org/dataset/Reserve-Fund-Balance-And-4-year-Outlook-Projection/qzzt-heid', 'id': u'qzzt-heid', 'name': u'Reserve Fund Balance And 4 year Outlook Projections 1 GOVSTAT', 'description': ''}, {'url': u'https://data.lacity.org/A-Livable-and-Sustainable-City/Residential-Water-Usage-by-Month-2005-to-2013/jxff-audx', 'id': u'jxff-audx', 'name': u'Residential Water Usage by Month 2005 to 2013', 'description': 'Monthly residential water usage use by zip code. Numbers represent Hundered Cubic Feet (HCF) usage'}, {'url': u'https://data.lacity.org/A-Livable-and-Sustainable-City/Residential-Water-Usage-Zip-Code-on-Top/hu2j-wciz', 'id': u'hu2j-wciz', 'name': u'Residential Water Usage Zip Code on Top', 'description': 'Monthly residential water usage use by zip code. Numbers represent Hundered Cubic Feet (HCF) usage'}, {'url': u'https://data.lacity.org/dataset/SAN-Emissions-Chart-CO2/7547-yw35', 'id': u'7547-yw35', 'name': u'SAN Emissions Chart CO2', 'description': ''}, {'url': u'https://data.lacity.org/A-Livable-and-Sustainable-City/Sewer-Service-Charge-Open-and-Closed-Case-Activity/6pjg-abad', 'id': u'6pjg-abad', 'name': u'Sewer Service Charge Open and Closed Case Activity', 'description': 'Category of data was not applicable for those years where 0&#x27;s appear.  Annually updated for FY.'}, {'url': u'https://data.lacity.org/A-Livable-and-Sustainable-City/Solid-Resources-Refuse-Collection-Tonnage-2014/3z56-qjg6', 'id': u'3z56-qjg6', 'name': u'Solid Resources Refuse Collection Tonnage 2014', 'description': 'Bureau of Sanitation Refuse Collection tonnages dumped to site for the calendar YTD 2014 for the most recent data published.'}, {'url': u'https://data.lacity.org/A-Livable-and-Sustainable-City/Sources-of-Power-for-LADWP/eynx-4xjr', 'id': u'eynx-4xjr', 'name': u'Sources of Power for LADWP', 'description': 'LADWP&#x27;s Power Generation'}, {'url': u'https://data.lacity.org/A-Livable-and-Sustainable-City/Street-Names/hntu-mwxc', 'id': u'hntu-mwxc', 'name': u'Street Names', 'description': 'Official Street Names in the City of Los Angeles created and maintained by the Bureau of Engineering.'}, {'url': u'https://controllerdata.lacity.org/Revenue/Tax-Revenues-by-Source-Governmental-Funds/c9g5-c8dy', 'id': u'c9g5-c8dy', 'name': u'Tax Revenues by Source Governmental Funds', 'description': 'CAFR Pages 340-341.\n\nModified Accrual Basis of Accounting. Last Ten Fiscal Years.\n(amounts expressed in thousands of dollars)'}, {'url': u'https://controllerdata.lacity.org/dataset/Templates/jbxg-3qpc', 'id': u'jbxg-3qpc', 'name': u'Templates', 'description': ''}, {'url': u'https://controllerdata.lacity.org/Audits-and-Reports/Ten-Largest-Property-Taxpayers/xmfa-dabp', 'id': u'xmfa-dabp', 'name': u'Ten Largest Property Taxpayers', 'description': 'CAFR Page 345.\n\nLargest City of Los Angeles Taxpayers. Secured Assessed Valuation Current and Nine Years Ago'}, {'url': u'https://data.lacity.org/A-Well-Run-City/Total-Bills-Vs-Estimated-Bill-at-LADWP/svt7-r3ww', 'id': u'svt7-r3ww', 'name': u'Total Bills Vs Estimated Bill at LADWP', 'description': 'Number of bills LADWP estimates versus total bills issued'}, {'url': u'https://data.lacity.org/A-Well-Run-City/Water-And-Electric-Rate-Zones/q7z5-z3b9', 'id': u'q7z5-z3b9', 'name': u'Water And Electric Rate Zones', 'description': 'These temperature zones by zip code impact water and electric rates.'}, {'url': u'https://data.lacity.org/A-Livable-and-Sustainable-City/Water-And-Electric-Res-2005-2013-By-Zip/c72k-f6bb', 'id': u'c72k-f6bb', 'name': u'Water And Electric Res 2005 2013 By Zip', 'description': 'Combined Data of Electric and Water Use (water is HCF and Power kWh).'}, {'url': u'https://data.lacity.org/A-Livable-and-Sustainable-City/Water-and-Electric-Usage-from-2005-2013/asvq-scwp', 'id': u'asvq-scwp', 'name': u'Water and Electric Usage from 2005 2013', 'description': 'Water Data represents usage in HCF and Power Data is in kWh.'}, {'url': u'https://data.lacity.org/A-Livable-and-Sustainable-City/Water-Leaks-in-the-City-of-Los-Angeles/jz5f-87wj', 'id': u'jz5f-87wj', 'name': u'Water Leaks in the City of Los Angeles', 'description': 'Number of recorded water leaks by months in the City of Los Angeles'}, {'url': u'https://data.lacity.org/A-Livable-and-Sustainable-City/Water-Use-Average-By-Zipcode/pzbs-vimf', 'id': u'pzbs-vimf', 'name': u'Water Use Average By Zipcode', 'description': 'Residential water use by month averaged for fiscal year.  Numbers represent Hundred Cubic Feet (HCF) of water use.'}, {'url': u'https://data.lacity.org/A-Well-Run-City/Web-Analytics-Lacity-org-September-2014/2pcq-gr29', 'id': u'2pcq-gr29', 'name': u'Web Analytics Lacity org September 2014', 'description': 'Google Analytics data for LACity.org for Pages 20140901-20140930'}, {'url': u'https://data.lacity.org/A-Livable-and-Sustainable-City/What-s-Happening-LA-Calender-Age-Groupings-Categor/jx82-7rs5', 'id': u'jx82-7rs5', 'name': u'Whats Happening LA Calender Age Groupings Categories Reference', 'description': 'age grouping catagories'}, {'url': u'https://data.lacity.org/A-Livable-and-Sustainable-City/What-s-Happening-LA-Calender-Subject-Matter-Catego/746u-cr6b', 'id': u'746u-cr6b', 'name': u'Whats Happening LA Calender Subject Matter Categories Reference', 'description': 'Categories for Subject Matter'}, {'url': u'https://data.lacity.org/A-Livable-and-Sustainable-City/What-s-Happening-LA-Calender-Type-of-Event-Categor/si79-fpzd', 'id': u'si79-fpzd', 'name': u'Whats Happening LA Calender Type of Event Categories Reference', 'description': 'Reference data set for type of event'}, {'url': u'https://data.lacity.org/dataset/Work-Source-Centers-Location-And-Contact-Info/qq2n-4wfr', 'id': u'qq2n-4wfr', 'name': u'Work Source Centers Location And Contact Info', 'description': 'Identifies EWDD WorkSource Centers along with related agency, location, and contact information.'}, {'url': u'https://data.lacity.org/dataset/Youth-Source-Centers-Location-And-Contact-Info/gbg9-vs7n', 'id': u'gbg9-vs7n', 'name': u'Youth Source Centers Location And Contact Info', 'description': 'Identifies EWDD YouthSource Centers along with related agency, location, and contact information.'}, {'url': u'https://data.lacity.org/A-Well-Run-City/Zoning-Reference-Table/ikdx-vgub', 'id': u'ikdx-vgub', 'name': u'Zoning Reference Table', 'description': 'Reference table to converting zoning nomenclature in ZONING (GIS Data) to zone.'}, {'url': u'https://data.lacity.org/dataset/Zoo-Performance-Metrics/5mwy-kfkk', 'id': u'5mwy-kfkk', 'name': u'Zoo Performance Metrics', 'description': 'This dataset contains metrics that measure the operational performance of the Zoo. These metrics are used on a regular basis by the department and the Mayor to evaluate progress and inform decision making. Performance management forms the foundation of a data-driven culture of innovation and excellence in the City of Los Angeles.'}]

    status = "TEST"
    format_list = ['csv', 'json']
    url_template = 'https://data.lacity.org/api/views/%(id)s/rows.%(format)s?accessType=DOWNLOAD'
    headers = {
        'User-agent': 'KPCC - Southern California Public Radio (ckeller@scpr.org)'
    }
    catalog_url = 'https://data.lacity.org/browse?limitTo=datasets&sortBy=alpha&view_type=table&limit=1000'
    raw_html = '/Volumes/one_tb_hd/_programming/2kpcc/data-projects/_opendata-la-watchdog/index.html'

    def handle(self, *args, **kwargs):
        """
        Make everything happen
        """
        print "Running the checkbook la watchdog"
        self.set_options()

        #[self.download(f) for f in self.file_list]
        self.update_github()

    def set_options(self):
        """
        Prep everything.
        """
        self.now = datetime.now()
        # Set template paths
        self.this_dir = os.path.dirname(os.path.realpath(__file__))
        self.template_dir = os.path.join(self.this_dir, 'templates')
        self.csv_dir = os.path.join(self.this_dir, 'csv')
        self.json_dir = os.path.join(self.this_dir, 'json')
        # Make sure template paths exist
        os.path.exists(self.csv_dir) or os.mkdir(self.csv_dir)
        os.path.exists(self.json_dir) or os.mkdir(self.json_dir)
        # Discover all the files we're going to download
        self.get_file_list()

    def get_file_list(self):
        """
        Scrape all of the "datasets" published by the controller.
        """
        if self.status == "LIVE":
            r = requests.get(self.catalog_url, headers=self.headers)
            soup = BeautifulSoup(r.text)
        else:
            soup = BeautifulSoup(open(self.raw_html))
        row_list = soup.find("table", {'class': lambda L: 'gridList' in L.split()}).findAll("tr")
        self.file_list = []
        for row in row_list[1:]:
            cell = row.find("td", {"class": "nameDesc"})
            data = cell.find("a", {"class": "name"})
            name = data.string.replace("&#x27;", "")
            name = re.sub(r'\W+', ' ', name)
            description = cell.find("div", {"class": "description"}).text.encode('utf-8')
            url = data['href']
            id = url.split("/")[-1]
            self.file_list.append({
                'name': name,
                'description': description,
                'url': url,
                'id': id,
            })

    def download(self, obj):
        """
        Download a file in pieces.
        """
        for format_ in self.format_list:
            url = self.url_template % dict(
                format=format_,
                id=obj['id'],
            )
            file_name = '%s.%s' % (obj['name'], format_)
            print "- Downloading %s in %s format" % (obj['name'], format_)
            r = requests.get(url, headers=self.headers, stream=True)
            file_path = os.path.join(getattr(self, '%s_dir' % format_), file_name)
            with open(file_path, 'wb') as f:
                for chunk in r.iter_content(chunk_size=1024):
                    if chunk: # filter out keep-alive new chunks
                        f.write(chunk)
                        f.flush()

    def update_log(self):
        """
        Log activity to the README file.
        """
        print "- Updating log"
        template_path = os.path.join(self.template_dir, 'README.md')
        template_data = open(template_path, 'r').read()
        template = Template(template_data)
        dict_list = []

        for obj in self.test_file_list:
        #for obj in self.file_list:

            csv_name = "%s.csv" % obj['name']
            csv_path = os.path.join(self.csv_dir, csv_name)
            try:
                csv_reader = csv.reader(open(csv_path, 'r'))

                row_count = len(list(csv_reader))

                if row_count < 10000:
                    repo_status = True
                else:
                    repo_status = None

                json_name = "%s.json" % obj['name']

                dict_list.append({
                    'name': obj['name'],
                    'description': obj['description'],
                    'row_count': row_count,
                    'last_updated': str(self.now),
                    'csv_name': csv_name,
                    'json_name': json_name,
                    'url': obj['url'],
                    'repo_status': repo_status
                })

            except Exception, exception:
                logger.error(exception)
                break
        diff = envoy.run("git diff --stat").std_out
        out_data = template.render(file_list=dict_list, diff=diff)
        out_file = open(os.path.join(self.this_dir, 'README.md'), 'w')
        out_file.write(out_data)
        out_file.close()
        return dict_list

    def update_github(self):
        """
        Commit changes and push them to GitHub
        """
        print "- Updating GitHub"
        dict_list = self.update_log()
        for item in dict_list:
            if item["repo_status"] == True:
                r = envoy.run("git add %s/%s" % (self.csv_dir, item["csv_name"]))
                r = envoy.run("git add %s/%s" % (self.json_dir, item["json_name"]))
        r = envoy.run("git add README.md")
        envoy.run("git commit --file=%s" % os.path.join(
            self.template_dir,
            'commit.txt'
        ))
        envoy.run("git push origin master")

if __name__ == '__main__':
    wd = Watchdog()
    wd.handle()
